---
title: 本地部署deepseek-r1模型 评价——玩具 or not?
date: 2025-02-05 21:00:35
tags:
  - llm
  - deepseek-r1
  - 实践笔记
categories:
  - 笔记
  - ai
---

> 第一次试手deepseek那会正好出r1，用了几下觉得信息检索能力极强，后面ds舆论炒起来开始暴增闹钟自信心那会正好做哈佬的解密末班车，利用r1找到了大量的思路，写的py脚本几乎不用debug直接能用。（虽然但是，解密做了3个开摆了，剩下俩都有不成熟的思路硬做也说不定呢
> 然后ds被大范围ddos服务器繁忙，思考水平下降，当时由于deepseek完全开源就想着本地部署一个玩玩，一直拖到了年后，部署了个7b玩玩，感觉有点玩具了……

## 一  安装Ollama

Ollama三端都有，直接官网download即可
（当晚网极差，挂着代理下了一整晚

[Ollama官网](https://ollama.com/) 

下载后管理员打开，默认只能下载在c盘，但是可以用命令行强行修改安装路径

```bash
.\OllamaSetup.exe /DIR=D:\Ollama
```

## 二 选择你想要的模型下载

deepseek本地部署模型提供了不同大小训练量的，如1.5b、7b、8b、14b、32b、70b或671b，各个配置依照gpu 显存等酌情配置

我的电脑是RTX4060Laptop，显存8G（在昨晚之前一直以为是16G……），加上c盘也不是多干净，所以开始选择下载了最主流的7b

最后下载的8b

```bash
ollama run deepseek-r1:8b
```



![image.png](https://pic.arctanp.top/PicGo/20250307184018676.png)



完成后cmd对话框弹出success，并以会以 `>>>` 为开头，此处表示可以正常使用

## 三 使用

查看已安装的模型列表

```bash
ollama list
```

使用某模型

```bash
ollama run [模型名]
```

结束对话

```bash
/bye
```

## 四 实测

按理说这玩意非常吃显存，但我当时挂着模拟器打fgo，形势下问了几个信息检索类问题

![image.png](https://pic.arctanp.top/PicGo/20250307184053449.png)


![image.png](https://pic.arctanp.top/PicGo/20250307184110891.png)


没截全，但是可见一斑足够的弱智。。。

晚上这会把进程关了关，再来试试

![image.png](https://pic.arctanp.top/PicGo/20250307184142287.png)

看不下去一点，纯纯胡编乱造，东扯西扯扯得没边了都

就在我脑子里重复着**“好吧，这就是个玩具，我放弃了”**的想法的时候，我突然反应过来本地部署不联网，训练库没月姬肯定不会给出正确的结果 呃呃，那我们换一个例子

就拿哈佬那道lightsout测试吧

先贴一个在ds被ddos前他给的答案

```markdown
>>> 我现在要解决lightsout游戏的加强版。在一个 6×6的棋盘中，有些灯是开着的，有些灯是关着的（就像普通的 LightsOut 游戏那
... 样）。
...
... 但是，你不知道哪些灯是开着的，哪些灯是关着的。每次你进行操作后，游戏只会告诉你「现在还有几盏灯亮着」。
...
... 你需要把所有灯都灭掉，才能通关。
... 请给出你能想到的所有游戏策略，包括但不限于：
... 如何找到哪些灯是开的，哪些灯是关的
... 如何在已知所有开的灯的位置后找到一个路径把所有灯关掉

<think>思考时间147s，略

</think>要解决6×6 LightsOut加强版问题，以下是分阶段的策略：

---

### **一、探测初始亮灯状态**

#### **策略1：单个灯翻转探测法**
1. **原理**：每个灯可通过特定按钮组合单独翻转。按压该组合后，亮灯数的变化（±1）揭示其初始状态。
2. **步骤**：
   - **预计算**：对每个灯（i,j），找到一组按钮组合S_ij，使其仅翻转该灯（需借助线性代数或已知模式）。
   - **逐灯测试**：
     1. 初始亮灯数为N。
     2. 按压S_ij对应的按钮，记录新亮灯数M。
     3. Δ = M - N：
        - Δ = -1 → 灯（i,j）初始亮。
        - Δ = +1 → 灯（i,j）初始灭。
   - **重复**所有36个灯，得到完整初始状态。

#### **策略2：系统按压法**
1. **原理**：每次按钮按压的亮灯数变化Δ与影响区域的初始状态相关。
2. **步骤**：
   - 依次按压每个按钮，记录Δ_i = 5 - 2a_i（a_i为初始时该按钮影响区域的亮灯数）。
   - 建立方程组，考虑按钮影响的交叠，解出初始状态。
   - **缺点**：需解复杂方程，适合编程处理。

---

### **二、关闭所有亮灯的已知解法**

#### **传统逐行消除法**
1. **原理**：逐行关闭亮灯，利用下一行的按钮消除当前行的残留。
2. **步骤**：
   - **第1-5行**：
     1. 对当前行，若某灯亮，按下其正下方的按钮（下一行同列）以关闭。
     2. 重复直至当前行全灭。
   - **第6行**：通过特定组合（如按钮模式）消除剩余亮灯。

#### **矩阵求逆法**
1. **原理**：将问题建模为模2线性方程组 **Ax = b**（A为按钮影响矩阵，b为初始状态）。
2. **步骤**：
   - 求解方程得按钮组合x，按压这些按钮即可关闭所有灯。
   - **适用工具**：编程工具（如高斯消元）或查表已知解。

---

### **三、其他辅助策略**

#### **奇偶性跟踪**
- 每次按压按钮后，亮灯数奇偶性翻转。利用此特性减少可能的状态组合。

#### **重置测试**
- 按压同一按钮两次可恢复原状态，用于校准或对比亮灯数。

---

### **总结**
1. **探测阶段**：优先使用**单个灯翻转法**（需预计算组合）或**系统按压法**确定初始状态。
2. **关闭阶段**：应用**逐行消除**或**矩阵求逆法**找到按钮组合。

此策略结合数学建模与系统操作，可在有限反馈下高效通关。
```

下面这个7b本地跑的

```markdown
>>> 我现在要解决lightsout游戏的加强版。在一个 6×6的棋盘中，有些灯是开着的，有些灯是关着的（就像普通的 LightsOut 游戏那
... 样）。
...
... 但是，你不知道哪些灯是开着的，哪些灯是关着的。每次你进行操作后，游戏只会告诉你「现在还有几盏灯亮着」。
...
... 你需要把所有灯都灭掉，才能通关。
... 请给出你能想到的所有游戏策略，包括但不限于：
... 如何找到哪些灯是开的，哪些灯是关的
... 如何在已知所有开的灯的位置后找到一个路径把所有灯关掉

<think>
好的，我现在要解决 strengthened Lights Out 游戏。这是一个 6×6 的棋盘，有些灯开着，有些关着。我并不知道哪些灯开着，
每次操作后只会告诉我现在还有多少盏灯亮着。目标是将所有的灯都熄灭才能通关。

首先，我需要理解基本的 Lights Out 游戏规则。通常情况下，每次按下一个灯会切换该灯以及其相邻四个方向（上、下、左、右）
的状态：开变关，关变开。在 strengthened 版本中，情况不同，因为我不知道哪些灯是开着的，所以无法直接识别目标。

我的第一步是确定棋盘上的哪几盏灯是开着的。由于我不知道任何信息，这一步可能需要一些随机尝试或者系统性的方法来识别开灯
的位置。

我可能会开始随机按下棋盘上的灯，记录每次操作后亮着的灯的数量。如果某个操作后亮灯数量减少，说明我按下了一个或多个开灯
，否则可能是无关的灯被切换状态。这可能是一个繁琐的过程，因为需要多次尝试才能找到足够的线索来确定哪些灯是开的。

一旦我大致确定了哪些灯是开着的，下一步就是如何有效地将它们全部熄灭。这类似于在已知目标的情况下解决 Lights Out 游戏的
问题。通常，解决 Lights Out 游戏的方法涉及设置一个线性方程组，每个方程对应一行或一列的灯状态变化。

具体来说，我可以为每行建立一个方程，表示该行需要通过哪些操作来熄灭所有灯。例如，如果一行有6个灯，我可以通过按压这些
灯中的某些组合来达到关灯的目标。由于 Lights Out 游戏遵循模 2 的数学特性（即灯的状态是二进制的），可以利用线性代数的
方法来解决。

然而，在 strengthened 版本中，因为我知道哪些灯是开着的，我可以将问题简化为一个确定性的方程组求解问题。每按下一次灯相
当于对相关的行和列进行一次操作，最终需要找到一组按压操作使得所有开灯都被切换到关的位置。

这可能涉及编程或使用矩阵运算来解决，但这对于手动解决 6×6 的棋盘来说可能会过于复杂。因此，我可能需要寻找一种更直观的
方法，通过逐步消除可能性来找到正确的操作序列。

此外，我还需要考虑每次操作对其他灯的影响。按压一个灯不仅会影响该灯本身，还会影响周围的灯。这意味着操作之间的相互影响
必须被仔细计算和处理，以确保最终所有灯都被熄灭。

总的来说，我的策略可能包括以下几个步骤：
1. 随机按下棋盘上的多个灯，记录每次操作后亮灯数量的变化。
2. 根据这些数据推断哪些灯是开着的。
3. 使用线性代数的方法或逐步消除法来确定将所有开灯熄灭的操作序列。

这可能是一个漫长而复杂的过程，但通过系统性和耐心的尝试，我相信最终能够找到解决 strengthened Lights Out 游戏的策略。

</think>

### 策略说明：

#### 第一步：识别开着的灯

1. **随机按下灯**：
   - 从棋盘上的任意位置开始，依次按下多个不同的灯。每次按下后记录当前亮着的灯的数量。

2. **分析数据**：
   - 比较每次操作后的亮灯数量与初始状态（全灭）的差异。
   - 如果某个操作导致亮灯数量减少，说明按压了至少一个开着的灯；否则，该操作可能无关或与其他因素相关。

3. **逐步确定开灯位置**：
   - 通过多次尝试和比较，可以逐渐确定哪些特定位置的灯是开着的。
   - 注意到每次按下灯可能导致多个相邻灯状态变化，因此需要考虑连锁反应的影响。

#### 第二步：解密开灯布局

1. **建立方程组**：
   - 将每个开灯视为一个变量，按压操作作为方程中的系数，最终目标是求解所有变量（即哪些灯需要被按压）以达到全灭状态。


2. **使用线性代数方法**：
   - 由于 Lights Out 游戏遵循模 2 运算，可以将问题转化为二元一次方程组。
   - 每个方程对应一行或一列的灯状态变化，变量表示是否需要按压该位置的灯。

3. **求解方程**：
   - 利用矩阵运算或高斯消元法在模 2 的环境下求解方程组，得到所有需按压的操作序列。

#### 第三步：执行操作

1. **确定操作顺序**：
   - 根据解得的方程组，确定具体的灯需要被按压。
   - 考虑操作的连锁效应，选择操作顺序以简化后续步骤。

2. **逐步应用操作**：
   - 按照预设的操作序列依次按下灯，观察棋盘状态变化。
   - 如果在某一步骤后无法达到预期效果，可能需要调整之前的决策或重新解方程组。

#### 第四步：优化与验证

1. **反复测试和验证**：
   - 通过多次实验验证解得的操作序列是否可靠，确保每次操作都能按预期改变灯的状态。
   - 注意棋盘的对称性和循环性，寻找更高效的操作路径。

2. **简化策略**：
   - 寻找重复或相似的操作模式，减少不必要的按下次数。
   - 利用已知的开灯布局进行针对性的操作，加快熄灯速度。

#### 第五步：全局调整与适应

1. **考虑棋盘全局状态**：
   - 在解密过程中，保持对棋盘整体状态的关注，避免孤立操作，影响全局效果。

2. **灵活应对变化**：
   - 面对某些复杂情况，可能需要临时调整策略或重新评估方程组的正确性。
   - 灵活性是解决复杂 Lights Out 游戏的关键。

#### 第六步：总结与提升

1. **记录成功案例**：
   - 完成一次成功的熄灯后，详细记录操作过程和思考步骤。
   - 分析为什么该策略有效，为后续改进提供参考。

2. **持续练习与改进**：
   - 不断尝试新的策略和方法，寻找更高效或更具适应性的解决方案。
   - 通过不断练习提升对棋盘状态的敏感度和预测能力。

#### 第七步：使用辅助工具（可选）

1. **编程求解方程组**：
   - 使用编程语言（如 Python）编写程序来自动求解方程组，减少人工计算误差。
   - 适用于更大的棋盘或更复杂的布局情况。

2. **模拟器练习**：
   - 利用 Lights Out 游戏模拟器进行练习和测试，快速验证策略的有效性。
   - 这种工具可以帮助更好地理解每个操作的影响，并优化解题方法。

#### 第八步：总结经验

1. **反思解题过程**：
   - 分析整个解题过程中可能遇到的困难和解决办法。
   - 总结成功因素和失误教训，为未来的策略调整提供依据。

2. **制定长期计划**：
   - 根据当前的学习进度和目标，制定后续的学习和练习计划。
   - 目标是掌握多种 Lights Out 游戏的解法，并能够在不同复杂度下灵活应对。

#### 第九步：挑战更高的难度

1. **增加游戏难度**：
   - 尝试增加游戏难度，如更大规模的棋盘或更高阶的操作规则。
   - 通过解决更复杂的谜题提升综合能力。

2. **参加比赛或竞赛**：
   - 如果有机会，参与 Lights Out 游戏的比赛或竞赛，与其他玩家交流和切磋。
   - 这是提高水平、巩固策略的有效途径。

#### 第十步：保持耐心与坚持

1. **克服耐心限制**：
   - 面对复杂的谜题时，保持冷静和耐心，避免因一次失败而气馁。
   - 认识到解题过程中的每一次尝试都是积累经验和提升能力的机会。

2. **保持积极心态**：
   - 以积极的心态面对挑战，相信通过不断的学习和实践，一定能够掌握 Lights Out 游戏的精髓。
```

本地模型第八步后面的都是废话了，回答质量明显的差，但是思维链还算清晰，能看出来这是一个线性方程组问题，能够意识到把问题拆解成 确定灯的状态 和 熄灭所有灯 两个部分，效果……还可以

代码方面的测试也做了些测试，算法测试是最小生成树，脚本测试是自动解密凯撒密码，评价是能用

再看一眼显存

![image.png](https://pic.arctanp.top/PicGo/20250307184220572.png)


![image.png](https://pic.arctanp.top/PicGo/20250307184230264.png)


嗯，一用就跑满了，但是生成速度还算流畅

![image.png](https://pic.arctanp.top/PicGo/20250307184239224.png)


（你的显存占用怎么是尖尖的）

## 六  不敢锐评，小谈几句

本来写了一堆东西，最后还是删了，原因是没啥必要，确实是玩具，不如买api，某一天硬盘容量不够了我大抵会卸载的罢
